# Backend environment example for local development
# Rename to ".env" and adjust values as needed.

# --- Core ---
NODE_ENV=development
PORT=3000
MONGODB_URI=mongodb://localhost:27017/sistema_pagamentos
# Must be exactly 32 characters
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef

# --- JWT ---
JWT_SECRET=dev_access_secret
JWT_REFRESH_SECRET=dev_refresh_secret
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# --- Rate Limiting ---
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# --- Frontend CORS allowlist (comma-separated) ---
FRONTEND_URLS=http://localhost:4200

# --- Email (leave blank to disable in tests) ---
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
EMAIL_FROM="TrustPay <no-reply@trustpay.local>"

# --- External Card Validation API (mock) ---
# If enabled=true, server will call the URL below before credit-card capture flows
EXTERNAL_CARD_API_ENABLED=true
EXTERNAL_CARD_API_URL=http://localhost:4001/validate
EXTERNAL_CARD_API_KEY=dev-mock-key
EXTERNAL_CARD_API_TIMEOUT_MS=4000
EXTERNAL_CARD_API_DEBUG=true

# --- Merchant HMAC keys ---
# Format: TRUSTPAY_MERCHANT_KEYS="key1:secret1,key2:secret2"
TRUSTPAY_MERCHANT_KEYS=demo_key:demo_secret

# --- PIX ---
PIX_EXPIRATION_MINUTES=30

# --- Logging ---
LOG_LEVEL=info